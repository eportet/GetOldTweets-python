# Get Old Tweets Programatically
A project written in Python to get old tweets, it bypass some limitations of Twitter Official API.

## Details
Twitter Official API has the bother limitation of time constraints, you can't get older tweets than a week. Some tools provide access to older tweets but in the most of them you have to spend some money before.
I was searching other tools to do this job but I didn't found it, so after analyze how Twitter Search through browser works I understand its flow. Basically when you enter on Twitter page a scroll loader starts, if you scroll down you start to get more and more tweets, all through calls to a JSON provider. After mimic we get the best advantage of Twitter Search on browsers, it can search the deepest oldest tweets.

## Prerequisites
This package assumes using Python 2.x. The Python3 "got3" folder is maintained as experimental and is not officially supported.

Expected package dependencies are listed in the "requirements.txt" file for PIP, you need to run the following command to get dependencies:
```
pip install -r requirements.txt
```

## Components
- **Tweet:** Model class to give some informations about a specific tweet.
  - id (str)
  - permalink (str)
  - username (str)
  - text (str)
  - date (date)
  - retweets (int)
  - favorites (int)
  - mentions (str)
  - hashtags (str)
  - geo (str)

- **TweetManager:** A manager class to help getting tweets in **Tweet**'s model.
  - getTweets (**TwitterCriteria**): Return the list of tweets retrieved by using an instance of **TwitterCriteria**. 

- **TwitterCriteria:** A collection of search parameters to be used together with **TweetManager**.
  - __setQuerySearch (str):__ A query search that will look for all of the words given [--query]
  - __setExactSearch (str):__ A query search that will look for the exact phrase given [--exact]
  - __setAnyQuerySearch (str):__ A query search that will look for any of the words given [--any]
  - __setExcludeQuerySearch (str):__ Define words to exclude/ignore from a search [--exclude]
  - __setHashtag (str):__ Filter search to tweets containing any of these hashtags [--hashtag]
  - __setAuthor (str):__ A query search that will look for tweets generated by the user/s [--author]
  - __setRecipient (str):__ A query search that will look for tweets sent to the user/s [--recipient]
  - __setMention (str):__ A query search that will look for tweets where the user/s was mentioned [--mention]
  - __setNear (str):__ A query search that will look for tweets near specified location (can be coordinates) [--near]
  - __setWithin (int):__ Restricts location search within specified radius in miles (default value is 15mi) [--within]
  - __setSince (str. "yyyy-mm-dd"):__ A lower bound date to restrict search [--since]
  - __setUntil (str. "yyyy-mm-dd"):__ An upper bound date to restrist search [--until]
  - __setLang (str):__ Sets the search to be a specific language [--lang]
  - __setMaxTweets (int):__ The maximum number of tweets to be retrieved. If this number is unsetted or lower than 1 all possible tweets will be retrieved [--maxtweets]
  - __setTopTweets (bool):__ Filters the top tweets first in order of poularity [--toptweets]

- **Main:** Examples of how to use.

- **Exporter:** Export tweets to a csv file named "output_got.csv".

## Examples of python usage
- Get tweets by username
``` python
	tweetCriteria = got.manager.TweetCriteria().setAuthor('barackobama').setMaxTweets(1)
	tweet = got.manager.TweetManager.getTweets(tweetCriteria)[0]
	  
    print(tweet.text)
```    
- Get tweets by query search
``` python
	tweetCriteria = got.manager.TweetCriteria().setQuerySearch('europe refugees').setSince("2015-05-01").setUntil("2015-09-30").setMaxTweets(1)
	tweet = got.manager.TweetManager.getTweets(tweetCriteria)[0]
	  
    print(tweet.text)
```    
- Get tweets by username and bound dates
``` python
	tweetCriteria = got.manager.TweetCriteria().setAuthor("barackobama").setSince("2015-09-10").setUntil("2015-09-12").setMaxTweets(1)
	tweet = got.manager.TweetManager.getTweets(tweetCriteria)[0]
	  
    print(tweet.text)
```
- Get the last 10 top tweets by username
``` python
	tweetCriteria = got.manager.TweetCriteria().setAuthor("barackobama").setTopTweets(True).setMaxTweets(10)
	# first one
	tweet = got.manager.TweetManager.getTweets(tweetCriteria)[0]
	  
    print(tweet.text)
```

## Examples of command-line usage
- Get help use
```
    python Exporter.py -h
``` 
- Get tweets by username
```
    python Exporter.py --author "barackobama" --maxtweets 1
```    
- Get tweets by query search
```
    python Exporter.py --query "europe refugees" --maxtweets 1
```    
- Get tweets by username and bound dates
```
    python Exporter.py --author "barackobama" --since 2015-09-10 --until 2015-09-12 --maxtweets 1
```
- Get the last 10 top tweets by username
```
    python Exporter.py --author "barackobama" --maxtweets 10 --toptweets
```
